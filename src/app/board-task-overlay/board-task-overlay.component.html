<div class="boardTasksOverlay">
  <div class="taskOverlayContainer" *ngIf="isTaskOverlayContainerVisible">
    <div class="boardTasks">
        <div class="boardTasksHeadlineCloseContainer">
            <div class="boardTasksCategory" [style.background-color]="getCategoryNameAndColor(selectedTask?.category!).color">
                {{ getCategoryNameAndColor(selectedTask?.category!).name }}</div>
            <div class="closeBoardTasks" (click)="onCloseTaskOverlay()"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M7 8.40005L2.1 13.3C1.91667 13.4834 1.68333 13.575 1.4 13.575C1.11667 13.575 0.883333 13.4834 0.699999 13.3C0.516666 13.1167 0.424999 12.8834 0.424999 12.6C0.424999 12.3167 0.516666 12.0834 0.699999 11.9L5.6 7.00005L0.699999 2.10005C0.516666 1.91672 0.424999 1.68338 0.424999 1.40005C0.424999 1.11672 0.516666 0.883382 0.699999 0.700049C0.883333 0.516715 1.11667 0.425049 1.4 0.425049C1.68333 0.425049 1.91667 0.516715 2.1 0.700049L7 5.60005L11.9 0.700049C12.0833 0.516715 12.3167 0.425049 12.6 0.425049C12.8833 0.425049 13.1167 0.516715 13.3 0.700049C13.4833 0.883382 13.575 1.11672 13.575 1.40005C13.575 1.68338 13.4833 1.91672 13.3 2.10005L8.4 7.00005L13.3 11.9C13.4833 12.0834 13.575 12.3167 13.575 12.6C13.575 12.8834 13.4833 13.1167 13.3 13.3C13.1167 13.4834 12.8833 13.575 12.6 13.575C12.3167 13.575 12.0833 13.4834 11.9 13.3L7 8.40005Z" fill="#2A3647"/>
                </svg>
                </div>
        </div>
        <div class="boardTasksTitle">{{ selectedTask?.title }}</div>
        <div class="boardTasksDescription">{{ selectedTask?.description }}</div>
        <div class="boardTasksDueDate">{{ selectedTask?.due_date | date }}</div>
        <div class="boardTasksPriority"><ng-container [ngSwitch]="selectedTask?.priority">
            <span *ngSwitchCase="'Urgent'">Urgent SVG</span>
            <span *ngSwitchCase="'Medium'">Medium SVG</span>
            <span *ngSwitchCase="'Low'">Low SVG</span>
          </ng-container></div>
        <div class="boardTasksAssignedToHeadline">Assigned To:</div>
        <div class="boardTasksAssignedTo">
            <div *ngFor="let contactId of selectedTask?.assigned_to">
              <span *ngIf="getContactById(contactId) as contact" class="colorCircleContactsBoard" [style.backgroundColor]="contact?.color">
                {{ getInitials(contact.name) }}
              </span>
            </div>
          </div>        
          <div class="boardTasksSubtasksHeadline">Subtasks:</div>
          <div class="boardTasksSubtasks">
            <div *ngFor="let subtask of selectedTask?.subtasks">
              <input type="checkbox" [checked]="subtask.completed" (change)="toggleSubtaskCompletion(subtask)">
              <span>{{ subtask.text }}</span>
            </div>
          </div>
          <div class="boardTasksDeleteEditContainer">
            <div class="boardTasksDelete" (click)="deleteTask()">
              <i class="fas fa-trash-alt deleteEditIcon"></i> Delete
            </div>
            <div class="editDeleteLine"></div>
            <div class="boardTasksEdit" (click)="openEditTaskOverlay()">
              <i class="fa-solid fa-pencil deleteEditIcon"></i> Edit
            </div>
          </div>
        </div>
        </div>
        
        <div class="editTaskOverlayContainer" *ngIf="isEditTaskVisible">
          <app-edit-task 
            [task]="selectedTask" 
            (taskUpdated)="onTaskUpdated()" 
            (closeEditTaskOverlay)="closeEditTaskOverlay()">
          </app-edit-task>
        </div>


